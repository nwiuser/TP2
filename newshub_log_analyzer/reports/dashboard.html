<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>NewshHub Media Log Analysis Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .chart-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        .chart-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        .full-width {
            grid-column: 1 / -1;
        }
    </style>
</head>
<body>
    <h1>NewshHub Media - SEO Crawl Analysis Dashboard</h1>
    
    <div class="chart-grid">
        <div class="chart-container full-width">
            <div class="chart-title">Crawls Timeline (Daily vs Hourly)</div>
            <div id="timeline"></div>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">Top URLs by Crawl Count</div>
            <div id="top-urls"></div>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">HTTP Status Code Distribution</div>
            <div id="errors"></div>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">URL Depth Distribution</div>
            <div id="depth"></div>
        </div>
        
        <div class="chart-container full-width">
            <div class="chart-title">Obsolete Pages Analysis</div>
            <div id="obsolete"></div>
        </div>
    </div>
    
    <script>
    Plotly.newPlot('timeline', [{"hovertemplate":"<b>Date:</b> %{x|%d/%m/%Y}<br><b>Crawls:</b> %{y}<extra></extra>","line":{"color":"#1f77b4","width":2},"marker":{"size":6},"mode":"lines+markers","name":"Crawls/Jour","x":["2025-10-01T00:00:00"],"y":[11],"type":"scatter","xaxis":"x","yaxis":"y"},{"hovertemplate":"<b>Heure:</b> %{x|%d/%m %H:00}<br><b>Crawls:</b> %{y}<extra></extra>","line":{"color":"#ff7f0e","width":2},"marker":{"size":5},"mode":"lines+markers","name":"Crawls/Heure","x":["2025-10-01T10:00:00"],"y":[11],"type":"scatter","xaxis":"x2","yaxis":"y2"}], {"xaxis":{"domain":[0,0.46]},"xaxis2":{"domain":[0.54,1]},"yaxis":{"domain":[0,1]},"yaxis2":{"domain":[0,1]},"responsive":true});
    
    Plotly.newPlot('top-urls', [{"customdata":["/article/news-001","/article/news-002","/article/news-003","/archive/old-article","/category/news","/category/tech","/article/news-006","/article/news-007","/old-content/deprecated","/article/news-010"],"hovertemplate":"<b>URL:</b> %{customdata}<br><b>Crawls:</b> %{x}<extra></extra>","marker":{"color":"#2ca02c","line":{"color":"#1f77b4","width":1}},"orientation":"h","text":[2,2,2,1,1,1,1,1,1,1],"textposition":"outside","x":[2,2,2,1,1,1,1,1,1,1],"y":["/article/news-001","/article/news-002","/article/news-003","/archive/old-article","/category/news","/category/tech","/article/news-006","/article/news-007","/old-content/deprecated","/article/news-010"],"type":"bar"}], {"responsive":true});
    
    Plotly.newPlot('errors', [{"hovertemplate":"<b>%{label}</b><br>Count: %{value}<br>Percentage: %{percent}<extra></extra>","labels":["2xx (Success)","4xx (Client Error)","5xx (Server Error)"],"marker":{"colors":["#2ca02c","#ff7f0e","#d62728"]},"textinfo":"label+percent","textposition":"inside","values":[9,1,1],"type":"pie"}], {"responsive":true});
    
    Plotly.newPlot('depth', [{"hovertemplate":"<b>Profondeur:</b> %{x}<br><b>Nombre d'URLs:</b> %{y}<extra></extra>","marker":{"color":"#9467bd","line":{"color":"#1f77b4","width":1}},"nbinsx":20,"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"type":"histogram"}], {"responsive":true});
    
    Plotly.newPlot('obsolete', [{"customdata":[["/archive/old-article",1,1],["/article/news-001",1,0],["/article/news-002",1,0],["/article/news-003",1,0],["/article/news-006",1,0],["/article/news-007",1,0],["/article/news-010",1,0],["/category/news",1,0],["/category/tech",1,0],["/old-content/deprecated",1,1]],"hovertemplate":"<b>URL:</b> %{customdata[0]}<br><b>Crawls:</b> %{x}<br><b>Error Rate:</b> %{y:.1f}%<br><b>Depth:</b> %{customdata[1]}<br><b>Obsolete:</b> %{customdata[2]}<extra></extra>","marker":{"color":["#d62728","#2ca02c","#2ca02c","#2ca02c","#2ca02c","#2ca02c","#2ca02c","#2ca02c","#2ca02c","#d62728"],"line":{"color":"white","width":1},"opacity":0.6,"showscale":false,"size":[2,2,2,2,2,2,2,2,2,2]},"mode":"markers","text":["/archive/old-article","/article/news-001","/article/news-002","/article/news-003","/article/news-006","/article/news-007","/article/news-010","/category/news","/category/tech","/old-content/deprecated"],"x":[1,2,1,1,1,1,1,1,1,1],"y":[100.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,100.0],"type":"scatter"}], {"responsive":true});
    </script>
</body>
</html>
